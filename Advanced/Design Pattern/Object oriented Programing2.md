# 객체지향 프로그래밍(Object Oriented Programing) 2

> 작성자 : [장성근](https://github.com/heoap9)  
> 본문서는 "객체지향의 사실과 오해"서적을 참고하여 작성하였습니다

<details>
<summary>목차</summary>

- [객체지향의 본질](#객체지향의-본질)
- [현실세계의 객체지향](#현실세계의-객체지향)
- [은유법](#현실세계의-은유법과-객체의-상호작용의-의미)
- [객체지향의 추상화 그리고 현실세계의 추상화](#객체지향의-추상화-그리고-현실세계의-추상화)
</details>

---
>객체를 설계할때 중요한것은 객체의 구성요소가 아닌 객체의 메세지(Method)와 협력 관계이다  
> 

# 객체지향 프로그래밍의 세가지 중요 관점

![caffeTerria.jpg](images%2fresponse.png)

카페에서는 손님,바리스타,캐시어의 역할을 3개의 객체가 협력하며 이루어진다
손님은 커피를 주문하는 책임을 가지며 바리스타는 커피를 만드는 책임을 가지고있다
캐시어도 손님이 주문한 음료를 바리스타에게 알려주고 계산하는 책임을 가진다


>역할은 같은 일만 수행할 수 있다면 대체될 수 있다

**다른 대체 가능한 사람이 역할을 수행가능** 
- 손님이 자신이 커피를 마실수만 있다면 어떤 캐시어가 주문을 받는지,어떤 바리스타가 커피를 내려주는지는 중요하지 않다

**역할은 대체 가능성을 의미한다**
- 캐시어는 철수와 유리가 존재하고 손님 입장에서 캐시어 역할을 수행할 수 있다면  
철수에게 주문을 하던 유리에게 주문을 하던 상관이 없다

**책임을 수행하는 방법은 자율적으로 선택이 가능**
- 커피를 제조하는 요청을 받더라도 각 바리스타의 커피제조법에 따라 서로 다른방식으로 커피를 만들 수 있다
**(다형성,strategy pattern)**


# 협력,자율성
**객체는 충분히 협력적이어야 한다**  
만약 객체가 협력이 아닌 관점으로 설계하고 객체의 구현에 초점을 맞춘다면 독립적으로 가진 단독의 존재가된다  
객체는 다른 객체의 요청에 응답하고 필요할 경우 다른 객체에게 도움을 요청할 수 있어야 한다  
다른 객체의 요청에 객체 스스로 판단하고 결정하여 응답하는 것이다

**객체는 충분히 자율적이어야 한다**  
자신의 행동을 스스로 결정하고 책임지는것
객체의 자율성은 객체 내부와 외부를 명확하게 구분하는 것으로 나온다  
이때의 외부는 Java의 인터페이스이며 이 내부의 요소는 각 구현체를 작성하며 내부의 요소를 신경쓸 필요가 없게된다(캡슐화)
객체는 다른 객체가 무엇을 수행하는지 알 수 있지만 어떻게 수행하는지는 알수가 없다!  
  


![makingCoffee.png](images%2fmakingCoffee.png)
# 메세지
객체지향의 메세지란 오직 한가지 의사소통이며
한 객체가 다른 객체에게 요청하는것을 메세지를 전송한다 라고 하며 
다른 객체로부터 요청 받는 것을 메세지를 수신한다 라고 말한다
위 이미지의 예시로 각 객체끼리의 요청을 보내고 return하여 응답하는 것이 바로 메세지가 된다  
**협력을 위한 도구라고 생각하면 된다**


## 객체들의 분류
동적인 객체들을 정적인 타입으로 간단하게 추상화 해보면
이 분류를 위해선 타입을 사용한다 4가지의 커피 객체는 모두 같은 커피 타입으로 분류 할 수 있다는 것이다  
type은 특정 인터페이스를 나타낼 때 사용하는 이름이다

> 클래스와 타입 사이에는 차이를 꼭 이해해두어야 한다
> 객체의 클래스는 그 객체가 어떻게 구현되는 정의합니다. 클래스는 객체 내부 상태와 그 객체의 연산에 대한 구현 방법을 정의합니다  
> 반면, 객체의 타입은 그 객체의 인터페이스,즉 그 객체가 응답할 수 있는 요청의 집합을 정의합니다.
> 하나의 객체가 여러 타입을 가질 수 있고 서로 다른 클래스의 객체들이 동일한 타입을 가질 수 있습니다. 즉 객체의 구현은 다를지라도 인터페이스는 같을 수 있다는 의미가 됩니다  
>   -Gof의 디자인패턴



# 객체지향 설계
![DomainModel](images%2fDomainModel.png)  

도메인 관점

사용자 입장에서 소프트웨어를 사용하면
이 소프트웨어를 사용하는데 있어 요구되는 사항 및 기능을 관계도로 표시한다
위 설명들을 정리하면 객체지향 설계의 첫번재 목표는 훌륭한 객체를 설계하는 것이 아니라
훌륭한 협력을 설계하는 것이 됩니다
**훌륭한 객체는 훌륭한 협력을 설계할 때만 얻을 수 있습니다**

![cop](images%2fCoperation.png)  
협력을 설계할때에는 객체보다는 메세지를 먼저 선택하고 그 후에 메세지를 수신하기에 적절한 객체를 선택해야된다
손님이 바리스타에게 주문하기 앞서 손님이 직접 메뉴판에서 메뉴를 골라 전달해야 하는데
손님이 메뉴를 고른다는 측면에서 바리스타는 손님과 요청하는 응답관계에 놓여있는 인터페이스는 메뉴 항목을 가져와 선택하는것이다
손님은 자율적으로 메뉴를 골라 바리스타에게 전달하며
바리스타도 손님에게 응답받은 내용을 가지고 자율적으로 커피를 제조하여 전달한다

![cop](images%2fCoperation2.png)  

위 비즈니스 모델을 토대로 객체의 역할과 책임 그리고 협력 관계를 중요시하여 설계한 결과 위와 같은 설계를 진행 할 수 있었다


# 정리
- 메세지가 객체를 결정한다는 말의 의미
  - 어떤 요청을 처리하게 적절한 객체를 선택한다

- 책임을 따라 설계가 이뤄지는 과정
  - 메세지를 먼저 정한 뒤에 그 메세지를 수신하고 처리할 책임이 있는 객체를 정한다

- 인터페이스와 구현의 분리
  - 인터페이스는 인터페이스대로 정의 후 구현을 진행한다

> How(어떻게) 가 아닌 What(무엇)을 중점적으로 선택해야한다

# 부록


- 참고문헌
- https://black7375.tistory.com/86 - 객체지향과 프로그래밍 패러다임
- https://s-space.snu.ac.kr/bitstream/10371/75965/1/03.%20%EA%B6%8C%ED%98%81%EC%84%B1.pdf - 아리스토 텔레스의 보편자 이해와 개별주의 실체관