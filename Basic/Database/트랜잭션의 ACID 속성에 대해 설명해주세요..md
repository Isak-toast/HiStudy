# 트랜잭션의 ACID 속성에 대해 설명해주세요.

> 작성자 : [정혜연](https://github.com/jeonglever)

<details>
<summary>Table of Contents</summary>

- [트랜잭션이란?](#트랜잭션이란?)
- [ACID란?](#ACID란?)
  </details>

---

## 트랜잭션이란?

트랜잭션이란, 데이터베이스에서 수행되는 작업 단위입니다.</br>
여기서 작업 단위란 무엇일까요? </br>
예를 들어, 은행에서 A계좌에서 B계좌로 돈을 이체하는 경우를 생각해 보세요. </br>
이 과정에서는 두 가지 작업이 이루어집니다: **(1)A계좌에서 돈을 출금**하고나서, **(2)B계좌에 돈을 송금**하는 것이죠. </br>
이 두 작업을 함께 묶어서 하나의 단위인 트랜잭션으로 취급할 수 있습니다.</br>

이러한 예시를 빗대어, **트랜잭션**이란 **데이터베이스의 상태를 변환시키는 기능을 수행하기 위한 하나 이상의 쿼리를 모아 놓은 하나의 작업 단위**라고 정의할 수 있습니다. </br>

그런데, A계좌에서 돈을 출금한 뒤 B계좌에 송금하려 할때 갑자기 시스템이 멈추면 어떻게 될까요? 돈은 출금되었지만, 송금되지 않고 증발하는 최악의 상황을 맞이할 수도 있습니다. </br>

그렇기에 이렇게 작업 단위로 묶여 정의된 트랜잭션의 **안전성과 신뢰성을 보장하기 위한 4가지 속성**이 있는데, 이것을 **ACID** 라고 합니다. </br>

## ACID란?

![ACID](https://www.databricks.com/wp-content/uploads/2021/02/delta-lake-1-min.png)

트랜잭션의 ACID 속성은 데이터베이스의 안전성과 신뢰성을 유지하는 데 핵심적인 역할을 합니다. </br>
ACID 속성을 근간으로 하는 트랜잭션의 원칙을 따르고, 데이터베이스 시스템의 동작 원리를 깊이 이해하는 것은</br>
데이터를 효율적이고 안전하게 관리하는 데 필수적입니다.</br>
이는 모든 데이터베이스 사용자가 높은 품질의 데이터 서비스를 경험할 수 있게 하는 기반이 됩니다.</br>

1. **원자성(Atomicity) : '전부 반영하거나, 전부 반영하지 않거나'**<br/>
   만약 온라인 서점에서 책을 구매하기로 결정했다고 가정해봅시다. </br>
   구매 과정, 즉 트랜잭션은 크게 '주문 생성'과 '결제' 두 가지로 이루어질 것입니다. </br>
   원자성(Atomicity)는 이 두 과정이 모두 성공적으로 이루어지거나, 아니면 주문이 전혀 발생하지 않아야 합니다.</br>
   즉, 결제 도중에 문제가 생겨서 결제가 실패한다면, 주문 자체가 생성되지 않아야 하고, 주문에 문제가 생긴다면, 결제를 성공해서는 안되는 것입니다. (허공에 돈을 날릴수는 없잖아요?)

2. **일관성(Consistency) : '트랜잭션의 이전과 이후 모두 상태가 유효해야 함'**<br/>
   만약 온라인 서점에서 책을 구매하는 트랜잭션이 진행될 때, 이 트랜잭션에는 재고 수량을 줄이는 작업이 포함될 것입니다.</br>
   여기에서 일관성이란, 이 책의 재고가 0보다 작아질 수 없다는 규칙을 지키는 것입니다.</br>
   즉, 책 한 권을 구매한다면, 재고는 항상 1 이상 감소해야 하고, 재고가 없다면 구매가 불가능하다는 규칙(상태)를 만족해야 하는 것입니다.</br>

3. **독립성(Isolation) : '서로에게 영향을 받지 않음'**<br/>
   만약 여러 사람이 동시에 같은 책을 구매하려고 할때, 한 사람이 책을 구매하는 과정에서 재고를 줄이는 작업이 진행되더라도 다른 사람의 구매 과정은 이로 인해 방해받지 않아야 합니다.<br/>
   이처럼 각 트랜잭션이 서로에게 영향을 받지 않는 속성을 독립성이라 합니다.<br/>

4. **지속성(Durability) : '영구적으로 반영시켜야 한다'**<br/>
   책을 성공적으로 구매하고 결제가 완료되었다면, 이 정보는 DB에 영구적으로 저장될 겁니다. <br/>
   이 로그는 서점의 시스템이 재부팅되거나 문제가 발생해도, 남아 있기 때문에 구매 기록도 사라지지 않을 것입니다.<br/>
   이처럼 지속성은 트랜잭션이 성공적으로 완료되면 그 결과가 DB에 영구적으로 반영되어야 함을 의미합니다.<br/>

이렇게 ACID 속성은 DB가 복잡한 환경과 다양한 사용자 요구사항을 안정적으로 처리할 수 있게 해주는 기반이 됩니다.</br>
사용자와 개발자 모두 데이터의 안전성과 정확성에 대해 걱정할 필요 없이, 자신의 작업에 집중할 수 있게 해줍니다. </br>
이렇게 데이터와 작업을 신뢰성 있게 관리해주는 트랜잭션의 ACID 속성은 특히 금융업, 주식거래에서 중점적으로 사용됩니다. </br>
